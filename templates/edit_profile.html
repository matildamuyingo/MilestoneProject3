{% extends 'base.html' %}
{% block content %}

    <div class="row center-align">
        <h3 class="main-heading-text">Edit your profile information</h3>
    </div>

	<div class="row">
	
		<form class="col s12 m8 offset-m2" method="POST" action="{{ url_for('edit_profile', username=session.user) }}">
        <div class="card-panel  lime lighten-4">

			
            <div class="row register-row">
                <!--First Name--> 
				<div class="input-field col s6 m4">
					<input id="first_name" name="first_name" minlength="2" maxlength="30" value="{{ username.first_name.capitalize() }}" type="text" class="validate">
					<label for="first_name">First Name</label>
				</div>

				<!--Last Name-->
				<div class="input-field col s6 m4">
					<input id="last_name" name="last_name" minlength="2" maxlength="30" value="{{ username.last_name.capitalize() }}" type="text" class="validate">
					<label for="last_name">Last Name</label>
				</div>
				
				<div class="input-field col s8 offset-s2 m4">
					<select class="icons" id="user_icon" name="user_icon">
                            <option value="" disabled>Choose your option</option>
                        {% for icon in icons %}
                            {% if icon.icon_name == username.user_icon %}
                                <option value="{{ icon.icon_link }}" selected>{{ icon.icon_name }}</option>
                        {% else %}
                                <option value="{{ icon.icon_link }}" selected>{{ icon.icon_name }}</option>
                            {% endif %}
                        {% endfor %}
				    </select>
					<label for="user_icon">Select a profile icon</label>
				</div>
			</div>

            <div class="row register-row">
                <!--Age Field--> 
                <div class="input-field col s6">
                    <select id="user_age" name="user_age">
                            <option value="" disabled>Age</option>
                        {% for gender in genders %}
                            <option value="">Age option</option>
                        {% endfor %}
                    </select>
                        <label for="user_age">Age</label>
                </div>

                <!--Gender Field--> 

                <div class="input-field col s6">
                    <select id="user_gender" name="user_gender">
                            <option value="" minlength="5" disabled>Gender</option>
                        {% for gender in genders %}
                            {% if book.book_title.capitalize() == username.fav_book.capitalize() %}
                                <option value="{{ gender.gender }}" selected>{{ gender.gender }}</option>
                        {% else %}
                                <option value="{{ gender.gender }}">{{ gender.gender }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                        <label for="user_gender">Gender</label>
                </div>
            </div>

            <!--Favorite Book--> 
			<div class="row register-row">
				<div class="input-field col s6">
                    <select id="fav_book" name="fav_book" minlength="5" maxlength="30">
                            <option value="" disabled>Favorite Book</option>
                        {% for book in books %}
                            {% if book.book_title.capitalize() == username.fav_book.capitalize() %}
                                <option value="{{ username.fav_book }}" selected>{{ book.book_title.capitalize() }}</option>
                        {% else %}
                                <option value="{{ username.fav_book }}">{{ book.book_title.capitalize() }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                        <label for="fav_book">Favorite Book</label>
                </div>
			
                <!--Favorite Author--> 
                <div class="input-field col s6">
                    <select id="fav_author" name="fav_author" minlength="5" maxlength="30">
                            <option value="" disabled>Favorite Author</option>
                        {% for author in authors %}
                            {% if author.author_name == username.fav_author %}
                                <option value="{{ username.fav_author }}" selected>{{ author.author_name }}</option>
                            {% else %}
                                <option value="{{ username.fav_author }}">{{ author.author_name }}</option>
                            {% endif %}
                        {% endfor %}
                    </select>
                        <label for="fav_author">Favorite Author</label>
                </div>
			
            </div>


            <!--Favorite Genre--> 
			<div class="row register-row">
				<div class="input-field col s12">
					<select id="fav_genre" name="fav_genre" minlength="5" maxlength="30">
			                        <option value="" disabled>Book Genre</option>
			                        {% for genre in genres %}
			                            {% if genre.genre_name == username.fav_genre %}
			                                <option value="{{ username.fav_genre }}" selected>{{ genre.genre_name }}</option>
			                            {% else %}
			                                <option value="{{ username.fav_genre }}">{{ genre.genre_name }}</option>
			                            {% endif %}
			                        {% endfor %}
						    </select>
					<label for="fav_genre">Favorite Genre</label>
				</div>
			</div>

            <!--Submit Button--> 
            <div class="row center-align">
                <button type="submit" class="btn-large light-green darken-2 duo-buttons z-depth-3">Update Info</button>
            </div>
        </div>
		</form>
	
	</div>


{% endblock %}